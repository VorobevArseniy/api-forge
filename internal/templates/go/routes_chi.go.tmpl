// Code generated by api-generator. DO NOT EDIT.
package routes

import (
    "{{ .ModuleName }}/api"
    {{ range $svcName, $svc := .Services }}
    "{{ $.ModuleName }}/internal/{{ $svcName }}"
    {{ end }}

    "github.com/go-chi/chi/v5"
)

// SetupRoutes - регистрация всех роутов Chi
func SetupRoutes(r chi.Router) {
    {{ range $svcName, $svc := .Services }}
        // {{ $svcName }} routes
        {{ $handlerVar := printf "%sHandler" ($svcName) }}
        {{ $serviceVar := printf "%sService" (ToLower $svcName) }}

        {{ $serviceVar }} := {{ $svcName }}.New()
        {{ $handlerVar }} := api.New{{ $svcName | ToTitle }}Handler({{ $serviceVar }})

        {{ range $epName, $ep := $svc.Endpoints }}
            r.{{ $ep.Method | ToTitle}}("{{ $ep.Path }}", {{ $handlerVar }}.{{ $epName | ToTitle }})
        {{ end }}
    {{ end }}
}
